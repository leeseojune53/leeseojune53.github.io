---
layout: post
title: AOP @Around μ–΄λ…Έν…μ΄μ…
date: '2021-09-20'
description: 'AOP @Around μ–΄λ…Έν…μ΄μ…'
categories: [Backend, SpringBoot]
tags: [Backend, SpringBoot, AOP]
---
# AOP @Around μ–΄λ…Έν…μ΄μ…

### π“ μ •μ

Adviceμ ν• μΆ…λ¥λ΅ ν•µμ‹¬ κ΄€μ‹¬μ‚¬μ μ‹¤ν¨μ—¬λ¶€μ™€ μƒκ΄€μ—†μ΄ μ „ ν›„λ΅ μ‹¤ν–‰λλ„λ΅ ν•λ” Adviceμ΄λ‹¤.

Adviceλ” μ‹¤μ§μ μΌλ΅ μ–΄λ–¤ μΌμ„ ν•΄μ•Όν• μ§€μ— λ€ν• κ²ƒ, μ¦‰ μ‹¤μ§μ μΈ λ¶€κ°€κΈ°λ¥μ„ λ‹΄μ€ κµ¬ν„μ²΄μ΄λ‹¤.

### π‰ μ‚¬μ©λ²•

Pointcutλ¥Ό μ „λ‹¬ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤. Pointcutλ” ν΅λ‹¨κ΄€μ‹¬μ‚¬(λ¶€κ°€κΈ°λ¥)μ΄ μ μ©λ  joinPointλ“¤μ„ μ •μν• κ²ƒμ΄λ‹¤.

#### 1οΈβƒ£ execution

@Pointcut("execution(`μ ‘κ·Όμ μ–΄μ`, `λ°ν™ν•` `ν¨ν‚¤μ§€ν¬ν•¨ ν΄λμ¤ κ²½λ΅` `λ©”μ†λ“` `νλΌλ―Έν„°`)")

- execution(* *(..))

  μ ‘κ·Όμ μ–΄μ, λ°ν™ν• λ¨λ‘ μƒκ΄€ X, μ–΄λ– ν• κ²½λ΅μ— μ΅΄μ¬ν•λ” ν΄λμ¤λ„ μƒκ΄€ν•μ§€ μ•κ³  μ μ©.

  λ©”μ†λ“μ νλΌλ―Έν„°κ°€ κ°μ μƒκ΄€ X

- execution(* test.spring..*(..))

  μ ‘κ·Όμ μ–΄μ, λ°ν™ν• λ¨λ‘ μƒκ΄€ X, test.spring ν•μ„ ν¨ν‚¤μ§€, ν΄λμ¤ μ μ©, λ©”μ†λ“λ… μƒκ΄€ X, νλΌλ―Έν„° μƒκ΄€ X

#### 2οΈβƒ£ within

ν¨ν‚¤μ§€ λ‚΄μ λ¨λ“  λ©”μ†λ“μ— μ μ©ν•  λ• μ‚¬μ©.

@Pointcut("within(`Class κ²½λ΅`)")

- within(com.java.ex.*)

  com.java.ex. ν•μ„μ λ¨λ“  ν΄λμ¤, λ¨λ“  λ©”μ†λ“

- within(com.java.ex..*)

  com.java.ex. ν¨ν‚¤μ§€μ ν•μ„ ν¨ν‚¤μ§€λ¥Ό ν¬ν•¨ν• λ¨λ“  ν΄λμ¤, λ©”μ†λ“

#### 3οΈβƒ£ bean

ν•΄λ‹Ή bean idλ¥Ό κ°€μ§€κ³ μλ” beanμ λ¨λ“  λ©”μ†λ“μ— μ μ©

@Pointcut("bean(`bean id`)")

- bean(car)

  carλΌλ” bean idλ¥Ό κ°€μ§€κ³ μλ” beanμ— μ μ©

#### 4οΈβƒ£ μ»¤μ¤ν…€ μ–΄λ…Έν…μ΄μ…

@Pointcut("@annotation(`μ–΄λ…Έν…μ΄μ… λ…`)")

